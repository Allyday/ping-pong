<!DOCTYPE html>
<html>
<head>
	<title>Ping Pong Game</title>
</head>
<body>
	<canvas id="canvas" width="800" height="400"></canvas>
	<script type="text/javascript" src="js/app.js"></script>
	<script type="text/javascript">
		const CONST = {
			player1: 'player-1',
			player2: 'player-2',
			ball: 'ball',
			playerWidth: 0.015,
			playerHeight: 0.2,
			ballSize: 0.01,
		}

		app.onInit = function() {
			document.body.style.margin = "0px";
			const canvas = document.getElementById("canvas");
			canvas.width = window.innerWidth; 
			canvas.height = window.innerHeight;
			this.width = canvas.width;
			this.height = canvas.height;

			this.nodes.push({
				id : CONST.player1,
				x  : 0,
				y  : app.height * (1 - CONST.playerHeight) / 2,
				width  : app.width * CONST.playerWidth,
				height : app.height * CONST.playerHeight,
				color  : '#e22a32',
			});

			this.nodes.push({
				id: CONST.player2,
				x: app.width * (1 - CONST.playerWidth), // far right
				y: app.height * (1 - CONST.playerHeight) / 2,
				width: app.width * CONST.playerWidth,
				height: app.height * CONST.playerHeight,
				color: '#37595b',
			});

			this.nodes.push({
				id: CONST.ball,
				x: app.width / 2,
				y: app.height / 2,
				width: app.width * CONST.ballSize,
				height: app.width * CONST.ballSize,
				color: '#f8d212',
				direction: 0,
			});
		};

		app.onUpdate = function(time){
			this.getNode('black-box').y++;

			if(Math.cos(this.timestamp / 100) > 0){
				this.getNode('red-box').direction = -1;
			}else{
				this.getNode('red-box').direction = 1;
			}

			this.getNode('red-box').x+=this.getNode('red-box').direction;
		};
	</script>
</body>
</html>